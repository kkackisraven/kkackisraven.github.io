<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SEORAB Project</title>
    <style>
        /* [기본 설정] */
        body {
            margin: 0;
            padding: 0;
            background-color: #000;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            font-family: 'Pretendard', sans-serif;
        }

        /* [방 전체 컨테이너] */
        .room-container {
            position: relative;
            width: 100%;
            max-width: 1920px;
            aspect-ratio: 16 / 9;
            background-color: #222; /* 로딩 전 배경색 */
        }

        /* [레이어 공통] */
        .layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            transition: all 0.5s ease;
        }

        /* [Z-Index 순서 정리] */
        .bg-main { z-index: 1; }
        .cabinet-center-group { z-index: 5; }
        .drawer-left-group { z-index: 10; } /* 왼쪽 서랍이 캐비닛 덮음 */
        .switch-group { z-index: 20; }

        /* [애니메이션 동작] */
        .moving-part {
            transition: transform 0.6s cubic-bezier(0.25, 1, 0.5, 1);
        }
        
        /* 왼쪽 서랍 열림 (좌표는 그림에 맞춰 미세 조정) */
        .drawer-left-group.open .moving-part {
            transform: translate(-2%, 3%); /* 왼쪽 아래로 스르륵 */
        }

        /* 가운데 캐비닛 열림 */
        .cabinet-center-group.open .moving-part {
            transform: translate(0%, 5%); /* 아래로 스르륵 */
        }

        /* [다크 모드] */
        .switch-off-img { opacity: 0; } /* 평소엔 꺼진 스위치 숨김 */
        
        .room-container.dark-mode .bg-main,
        .room-container.dark-mode .cabinet-center-group,
        .room-container.dark-mode .drawer-left-group {
            filter: brightness(0.3); /* 방 어둡게 */
        }
        .room-container.dark-mode .switch-on-img { opacity: 0; }
        .room-container.dark-mode .switch-off-img { opacity: 1; }

        /* [투명 버튼 (Hotspots)] */
        .hotspot {
            position: absolute;
            cursor: pointer;
            z-index: 100;
            /* background: rgba(255, 0, 0, 0.3);  <-- 위치 확인할 때 주석 해제하세요 */
        }

        /* 버튼 위치 잡기 (대략적) */
        #spot-switch { top: 35%; left: 45%; width: 5%; height: 8%; }
        #spot-left-drawer { top: 58%; left: 34%; width: 13%; height: 16%; }
        #spot-center-cabinet { top: 48%; left: 51%; width: 13%; height: 16%; }

        /* 디버그 모드 (빨간 박스 보이기) */
        body.debug .hotspot { border: 2px solid red; background: rgba(255,0,0,0.2); }

        /* [팝업 UI] */
        .popup-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 999;
            display: none; justify-content: center; align-items: center;
        }
        .popup-overlay.active { display: flex; }
        .popup-content {
            background: white; padding: 40px; border-radius: 10px;
            text-align: center; min-width: 300px;
        }
        .popup-close {
            margin-top: 20px; padding: 10px 20px;
            background: #333; color: white; border: none; cursor: pointer;
        }
    </style>
</head>
<body class=""> <div class="room-container" id="room">
        
        <img src="Main.png" class="layer bg-main" alt="배경">

        <div class="layer cabinet-center-group" id="cabinet-center-group">
            <img src="center_cabinet_blank.png" class="layer" alt="캐비닛 배경">
            <img src="center_cabinet_open.png" class="layer moving-part" alt="캐비닛 알맹이">
        </div>

        <div class="layer drawer-left-group" id="drawer-left-group">
            <img src="left_drawer_blank.png" class="layer" alt="서랍 배경">
            <img src="left_drawer_open.png" class="layer moving-part" alt="서랍 알맹이">
        </div>

        <div class="layer switch-group">
            <img src="Switch_on.png" class="layer switch-on-img" alt="스위치 ON">
            <img src="Switch_off.png" class="layer switch-off-img" alt="스위치 OFF">
        </div>

        <div class="hotspot" id="spot-switch" onclick="toggleSwitch()"></div>
        <div class="hotspot" id="spot-left-drawer" onclick="toggleLeftDrawer()"></div>
        <div class="hotspot" id="spot-center-cabinet" onclick="toggleCenterCabinet()"></div>

    </div>

    <div class="popup-overlay" id="popup">
        <div class="popup-content">
            <h2 id="popup-title">알림</h2>
            <p id="popup-text">내용</p>
            <button class="popup-close" onclick="closePopup()">닫기</button>
        </div>
    </div>

    <script>
        // === 기능 구현 ===

        // 1. 스위치 (다크모드)
        let isDark = false;
        function toggleSwitch() {
            isDark = !isDark;
            const room = document.getElementById('room');
            if (isDark) {
                room.classList.add('dark-mode');
            } else {
                room.classList.remove('dark-mode');
            }
        }

        // 2. 왼쪽 서랍 (다른 거 닫고 열기)
        function toggleLeftDrawer() {
            closeAll(); // 다른 거 닫기
            const group = document.getElementById('drawer-left-group');
            group.classList.add('open');
            
            // 0.6초 뒤에 팝업 (원하면 주석 해제)
            // setTimeout(() => showPopup("서랍 메뉴", "명함 | 설정"), 600);
        }

        // 3. 가운데 캐비닛 (다른 거 닫고 열기)
        function toggleCenterCabinet() {
            closeAll(); // 다른 거 닫기
            const group = document.getElementById('cabinet-center-group');
            group.classList.add('open');

            // 0.6초 뒤에 팝업
            // setTimeout(() => showPopup("작가 아카이브", "파일철 선택"), 600);
        }

        // 모든 서랍 닫기 (빈 공간 클릭 시 혹은 교차 클릭 시 사용)
        function closeAll() {
            document.getElementById('drawer-left-group').classList.remove('open');
            document.getElementById('cabinet-center-group').classList.remove('open');
        }

        // 팝업 관련
        function showPopup(title, text) {
            document.getElementById('popup-title').innerText = title;
            document.getElementById('popup-text').innerText = text;
            document.getElementById('popup').classList.add('active');
        }
        function closePopup() {
            document.getElementById('popup').classList.remove('active');
            closeAll(); // 팝업 닫으면 서랍도 닫기
        }
    </script>
</body>
</html>
