<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SEORAB</title>
    <style>
        /* 1. 기본 설정 */
        body { margin: 0; padding: 0; background-color: #111; width: 100vw; height: 100vh; overflow: hidden; display: flex; justify-content: center; align-items: center; }
        .layer { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: contain; display: block; pointer-events: none; }
        .d-none { display: none !important; }
        .click-zone { position: absolute; z-index: 999; cursor: pointer; background: transparent; }

        /* =========================================
           [PC 세상]
           ========================================= */
        #pc-stage { 
            position: relative; width: 100%; height: 100%; max-width: 177.78vh; aspect-ratio: 16 / 9; 
            background-color: #ffffff; 
            display: block; 
        }

        #bg { z-index: 1; } 
        #drawer-closed { z-index: 5; } #drawer-open { z-index: 6; } 
        #cabinet-default { z-index: 10; } #cabinet-cutout { z-index: 10; } #cabinet-open { z-index: 11; }
        #switch-on, #switch-off { z-index: 100; }
        
        #zone-switch { top: 2.59%; left: 42.68%; width: 1.60%; height: 5.61%; }
        #zone-cabinet { top: 39.67%; left: 44.00%; width: 13.65%; height: 11.80%; }
        #zone-drawer { width: 100%; height: 100%; top: 0; left: 0; clip-path: polygon(32.32% 76.56%, 44.01% 60.96%, 44.29% 65.55%, 33.21% 80.14%); }
        #zone-box { width: 15%; height: 25%; top: 50%; right: 0; } 


        /* =========================================
           [모바일 세상] (★ 비율 고정 패치 적용됨 ★)
           ========================================= */
        #mobile-stage {
            position: relative;
            background-color: #ffffff;
            display: none; 
            
            /* ★ 쌈뽕한 기능 (비율 유지 마법) ★ */
            /* 1. 가로가 좁으면 가로에 맞추고, 세로가 좁으면 세로에 맞춰라 */
            /* 9 / 19.5 = 0.4615... (아이폰 비율) */
            
            width: min(100vw, calc(100dvh * (9 / 19.5)));
            height: min(100dvh, calc(100vw * (19.5 / 9)));

            /* 그림자 효과 (여백 생길 때 예뻐보임) */
            box-shadow: 0 0 50px rgba(0,0,0,0.5);
        }

        .m-layer {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            object-fit: contain; display: block; pointer-events: none;
        }

        #m-bg { z-index: 1; }
        #m-poster, #m-schedule, #m-box { z-index: 2; }
        
        #m-drawer-default { z-index: 5; }
        #m-drawer-open { z-index: 6; }

        #m-cabinet-default { z-index: 10; }
        #m-cabinet-cutout { z-index: 10; }
        #m-cabinet-open { z-index: 11; }

        #m-switch-on, #m-switch-off { z-index: 100; }

        /* 모바일 좌표 */
        #zone-m-switch { width: 100%; height: 100%; top: 0; left: 0; clip-path: polygon(49.38% 20.60%, 49.98% 24.23%, 53.41% 24.23%, 53.21% 21.07%); }
        #zone-m-drawer { width: 100%; height: 100%; top: 0; left: 0; clip-path: polygon(25.38% 66.03%, 27.80% 68.63%, 55.43% 58.86%, 55.23% 55.97%); }
        #zone-m-cabinet { width: 100%; height: 100%; top: 0; left: 0; clip-path: polygon(54.22% 42.48%, 55.23% 49.37%, 89.51% 49.46%, 91.73% 42.48%); }
        #zone-m-poster { width: 100%; height: 100%; top: 0; left: 0; clip-path: polygon(6.82% 20.14%, 23.97% 35.59%, 49.58% 36.15%, 33.44% 16.23%); }
        #zone-m-schedule { width: 100%; height: 100%; top: 0; left: 0; clip-path: polygon(62.49% 9.34%, 63.29% 24.98%, 99.60% 28.89%, 99.60% 10.18%); }
        #zone-m-box { width: 100%; height: 100%; top: 0; left: 0; clip-path: polygon(63.50% 67.98%, 29.41% 86.88%, 68.74% 99.07%, 98.59% 73.47%); }


        /* 반응형 */
        @media (max-width: 768px) {
            #pc-stage { display: none !important; }
            #mobile-stage { display: block !important; }
        }

    </style>
</head>
<body>

    <div id="pc-stage">
        <img src="main.png?v=fix2" class="layer" id="bg">
        
        <img src="left_drawer_default.png?v=fix2" class="layer" id="drawer-closed">
        <img src="left_drawer_open.png?v=fix2" class="layer d-none" id="drawer-open">

        <img src="center_cabinet_default.png?v=fix2" class="layer" id="cabinet-default">
        <img src="center_cabinet_cutout.png?v=fix2" class="layer d-none" id="cabinet-cutout">
        <img src="center_cabinet_open.png?v=fix2" class="layer d-none" id="cabinet-open">

        <img src="switch_on.png?v=fix2" class="layer" id="switch-on">
        <img src="switch_off.png?v=fix2" class="layer d-none" id="switch-off">

        <div class="click-zone" id="zone-switch" onclick="clickSwitch()"></div>
        <div class="click-zone" id="zone-drawer" onclick="clickDrawer()"></div>
        <div class="click-zone" id="zone-cabinet" onclick="clickCabinet()"></div>
        <div class="click-zone" id="zone-box" onclick="clickBox()"></div>
    </div>


    <div id="mobile-stage">
        <img src="m_bg.png?v=fix2" class="m-layer" id="m-bg">
        
        <img src="m_poster.png?v=fix2" class="m-layer" id="m-poster">
        <img src="m_schedule.png?v=fix2" class="m-layer" id="m-schedule">
        
        <img src="m_box.png?v=fix2" class="m-layer d-none" id="m-box">

        <img src="m_drawer_default.png?v=fix2" class="m-layer" id="m-drawer-default">
        <img src="m_drawer_open.png?v=fix2" class="m-layer d-none" id="m-drawer-open">

        <img src="m_cabinet_default.png?v=fix2" class="m-layer" id="m-cabinet-default">
        <img src="m_cabinet_cutout.png?v=fix2" class="m-layer d-none" id="m-cabinet-cutout">
        <img src="m_cabinet_open.png?v=fix2" class="m-layer d-none" id="m-cabinet-open">

        <img src="m_switch_on.png?v=fix2" class="m-layer" id="m-switch-on">
        <img src="m_switch_off.png?v=fix2" class="m-layer d-none" id="m-switch-off">

        <div class="click-zone" id="zone-m-switch" onclick="clickSwitch()"></div>
        <div class="click-zone" id="zone-m-drawer" onclick="clickDrawer()"></div>
        <div class="click-zone" id="zone-m-cabinet" onclick="clickCabinet()"></div>
        <div class="click-zone" id="zone-m-poster" onclick="clickPoster()"></div>
        <div class="click-zone" id="zone-m-schedule" onclick="clickSchedule()"></div>
        <div class="click-zone" id="zone-m-box" onclick="clickBox()"></div>
    </div>


    <script>
        // === [통합 로직 (변수명 오타 수정 완료)] ===
        let state = {
            dark: false,
            drawer: false,
            cabinet: false
        };

        function clickSwitch() { state.dark = !state.dark; updateView(); }

        function clickDrawer() {
            if (state.drawer) state.drawer = false;
            else { state.drawer = true; state.cabinet = false; }
            updateView();
        }

        function clickCabinet() {
            if (state.cabinet) state.cabinet = false;
            else { state.cabinet = true; state.drawer = false; }
            updateView();
        }

        // 링크 이동
        function clickPoster() { alert("행사 포스터입니다. (링크 연결 예정)"); }
        function clickSchedule() { alert("일정표 페이지로 이동합니다."); }
        function clickBox() { alert("통신판매 페이지로 이동합니다."); }

        // ★★★ [화면 그리기] ★★★
        function updateView() {
            // [PC 요소]
            const pc_stage = document.getElementById('pc-stage');
            const d_open = document.getElementById('drawer-open');
            const c_default = document.getElementById('cabinet-default');
            const c_cutout = document.getElementById('cabinet-cutout');
            const c_open = document.getElementById('cabinet-open');
            const s_on = document.getElementById('switch-on');
            const s_off = document.getElementById('switch-off');

            // [Mobile 요소]
            const mobile_stage = document.getElementById('mobile-stage');
            const m_d_open = document.getElementById('m-drawer-open');
            const m_c_default = document.getElementById('m-cabinet-default');
            const m_c_cutout = document.getElementById('m-cabinet-cutout');
            const m_c_open = document.getElementById('m-cabinet-open');
            const m_s_on = document.getElementById('m-switch-on');
            const m_s_off = document.getElementById('m-switch-off');

            // 1. 다크모드
            if (state.dark) {
                // PC
                s_on.classList.add('d-none'); s_off.classList.remove('d-none');
                pc_stage.style.filter = "brightness(0.4)";
                // Mobile
                m_s_on.classList.add('d-none'); m_s_off.classList.remove('d-none');
                mobile_stage.style.filter = "brightness(0.4)";
            } else {
                // PC
                s_off.classList.add('d-none'); s_on.classList.remove('d-none');
                pc_stage.style.filter = "brightness(1)";
                // Mobile
                m_s_off.classList.add('d-none'); m_s_on.classList.remove('d-none');
                mobile_stage.style.filter = "brightness(1)";
            }

            // 2. 왼쪽 서랍
            if (state.drawer) {
                d_open.classList.remove('d-none');
                m_d_open.classList.remove('d-none');
            } else {
                d_open.classList.add('d-none');
                m_d_open.classList.add('d-none');
            }

            // 3. 캐비닛
            c_default.classList.add('d-none'); c_cutout.classList.add('d-none'); c_open.classList.add('d-none');
            m_c_default.classList.add('d-none'); m_c_cutout.classList.add('d-none'); m_c_open.classList.add('d-none');

            if (state.cabinet) {
                c_default.classList.remove('d-none'); c_open.classList.remove('d-none');
                m_c_default.classList.remove('d-none'); m_c_open.classList.remove('d-none');
            } else {
                if (state.drawer) {
                    c_cutout.classList.remove('d-none');
                    m_c_cutout.classList.remove('d-none');
                } else {
                    c_default.classList.remove('d-none');
                    m_c_default.classList.remove('d-none');
                }
            }
        }
        
        updateView();

    </script>
</body>
</html>
